<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta
            name="description"
            content="EduBrain AI API文档 - 智能题库系统的完整API接口文档"
        />
        <meta name="keywords" content="API文档, 接口文档, 智能题库, REST API" />
        <title>API文档 - EduBrain AI</title>
        <link rel="stylesheet" href="/static/style.css" />
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
            rel="stylesheet"
        />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
            rel="stylesheet"
        />
    </head>
    <body>
        <div class="container">
            <header class="header">
                <div class="logo">
                    <i class="fas fa-book"></i>
                    <h1>API文档</h1>
                </div>
                <p class="subtitle">EduBrain AI 智能题库系统的API接口文档</p>
                <div class="quick-nav">
                    <a href="#integration" class="nav-item">
                        <i class="fas fa-plug"></i>
                        OCS集成指南
                    </a>
                    <a href="#api-search" class="nav-item">
                        <i class="fas fa-search"></i>
                        搜索接口
                    </a>
                    <a href="#api-health" class="nav-item">
                        <i class="fas fa-heartbeat"></i>
                        健康检查
                    </a>
                    <a href="#api-stats" class="nav-item">
                        <i class="fas fa-chart-bar"></i>
                        统计信息
                    </a>
                </div>
            </header>

            <main class="main-content">
                <div class="docs-card" id="integration">
                    <div class="card-header">
                        <i class="fas fa-plug"></i>
                        <h2>OCS网课助手集成指南</h2>
                    </div>
                    <div class="api-content">
                        <div class="integration-guide">
                            <h3>📚 如何导入到OCS网课助手</h3>
                            <div class="integration-steps">
                                <div class="step">
                                    <div class="step-number">1</div>
                                    <div class="step-content">
                                        <h4>启动EduBrain AI服务</h4>
                                        <p>
                                            确保EduBrain
                                            AI服务正在运行，您可以通过访问首页或管理面板确认服务状态。
                                        </p>
                                        <div class="code-block">
                                            <pre><code># 启动服务
python app.py</code></pre>
                                        </div>
                                    </div>
                                </div>

                                <div class="step">
                                    <div class="step-number">2</div>
                                    <div class="step-content">
                                        <h4>配置OCS网课助手</h4>
                                        <p>
                                            在OCS网课助手中添加自定义题库接口：
                                        </p>
                                        <ul>
                                            <li>打开OCS网课助手设置</li>
                                            <li>
                                                进入"题库设置" → "自定义接口"
                                            </li>
                                            <li>添加新的接口配置</li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="step">
                                    <div class="step-number">3</div>
                                    <div class="step-content">
                                        <h4>填写接口信息</h4>
                                        <p>按照以下信息配置接口：</p>
                                        <div class="config-table">
                                            <div class="config-row">
                                                <div class="config-label">
                                                    接口名称
                                                </div>
                                                <div class="config-value">
                                                    EduBrain AI
                                                </div>
                                            </div>
                                            <div class="config-row">
                                                <div class="config-label">
                                                    接口地址
                                                </div>
                                                <div class="config-value">
                                                    http://localhost:5000/api/search
                                                </div>
                                            </div>
                                            <div class="config-row">
                                                <div class="config-label">
                                                    请求方法
                                                </div>
                                                <div class="config-value">
                                                    POST
                                                </div>
                                            </div>
                                            <div class="config-row">
                                                <div class="config-label">
                                                    Content-Type
                                                </div>
                                                <div class="config-value">
                                                    application/x-www-form-urlencoded
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="step">
                                    <div class="step-number">4</div>
                                    <div class="step-content">
                                        <h4>配置请求参数</h4>
                                        <p>设置以下参数映射：</p>
                                        <div class="param-mapping">
                                            <div class="mapping-item">
                                                <span class="ocs-param"
                                                    >题目内容</span
                                                >
                                                <i
                                                    class="fas fa-arrow-right"
                                                ></i>
                                                <span class="api-param"
                                                    >title</span
                                                >
                                            </div>
                                            <div class="mapping-item">
                                                <span class="ocs-param"
                                                    >题型</span
                                                >
                                                <i
                                                    class="fas fa-arrow-right"
                                                ></i>
                                                <span class="api-param"
                                                    >type</span
                                                >
                                            </div>
                                            <div class="mapping-item">
                                                <span class="ocs-param"
                                                    >选项</span
                                                >
                                                <i
                                                    class="fas fa-arrow-right"
                                                ></i>
                                                <span class="api-param"
                                                    >options</span
                                                >
                                            </div>
                                            <div class="mapping-item">
                                                <span class="ocs-param"
                                                    >上下文</span
                                                >
                                                <i
                                                    class="fas fa-arrow-right"
                                                ></i>
                                                <span class="api-param"
                                                    >context</span
                                                >
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="step">
                                    <div class="step-number">5</div>
                                    <div class="step-content">
                                        <h4>测试连接</h4>
                                        <p>
                                            保存配置后，点击"测试连接"验证接口是否正常工作。
                                        </p>
                                        <div class="test-example">
                                            <p>
                                                <strong>测试题目：</strong>
                                                "中国的首都是哪里？"
                                            </p>
                                            <p>
                                                <strong>期望结果：</strong>
                                                返回答案"北京"
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="integration-notes">
                                <h4>💡 注意事项</h4>
                                <ul>
                                    <li>
                                        确保EduBrain
                                        AI服务运行在正确的端口（默认5000）
                                    </li>
                                    <li>
                                        如果使用外部题库，请确保external_databases.json配置正确
                                    </li>
                                    <li>
                                        网络连接问题可能导致查询失败，请检查防火墙设置
                                    </li>
                                    <li>
                                        建议定期检查服务状态，确保系统正常运行
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="docs-card" id="api-search">
                    <div class="card-header">
                        <i class="fas fa-search"></i>
                        <h2>搜索接口</h2>
                    </div>
                    <div class="api-content">
                        <div class="endpoint-info">
                            <div class="endpoint">
                                <span class="method get">GET</span>
                                <span class="method post">POST</span>
                                <code>/api/search</code>
                            </div>
                            <p class="endpoint-description">
                                智能搜索题目答案，支持多种题型和外部题库查询
                            </p>
                        </div>

                        <h3>请求参数</h3>
                        <div class="params-table">
                            <div class="param-row param-header">
                                <div class="param-name">参数名</div>
                                <div class="param-type">类型</div>
                                <div class="param-required">必填</div>
                                <div class="param-description">描述</div>
                            </div>
                            <div class="param-row">
                                <div class="param-name">title</div>
                                <div class="param-type">string</div>
                                <div class="param-required required">是</div>
                                <div class="param-description">题目内容</div>
                            </div>
                            <div class="param-row">
                                <div class="param-name">type</div>
                                <div class="param-type">string</div>
                                <div class="param-required optional">否</div>
                                <div class="param-description">
                                    题型 (single/multiple/judgement/completion)
                                </div>
                            </div>
                            <div class="param-row">
                                <div class="param-name">options</div>
                                <div class="param-type">string</div>
                                <div class="param-required optional">否</div>
                                <div class="param-description">选项内容</div>
                            </div>
                            <div class="param-row">
                                <div class="param-name">context</div>
                                <div class="param-type">string</div>
                                <div class="param-required optional">否</div>
                                <div class="param-description">上下文信息</div>
                            </div>
                        </div>

                        <h3>成功响应</h3>
                        <div class="code-block">
                            <pre><code>{
    "code": 1,
    "question": "中国的首都是哪里？",
    "answer": "北京"
}</code></pre>
                        </div>

                        <h3>错误响应</h3>
                        <div class="code-block">
                            <pre><code>{
    "code": 0,
    "msg": "错误信息"
}</code></pre>
                        </div>
                    </div>
                </div>

                <div class="docs-card" id="api-health">
                    <div class="card-header">
                        <i class="fas fa-heartbeat"></i>
                        <h2>健康检查</h2>
                    </div>
                    <div class="api-content">
                        <div class="endpoint-info">
                            <div class="endpoint">
                                <span class="method get">GET</span>
                                <code>/api/health</code>
                            </div>
                            <p class="endpoint-description">检查服务运行状态</p>
                        </div>
                    </div>
                </div>

                <div class="docs-card" id="api-stats">
                    <div class="card-header">
                        <i class="fas fa-chart-bar"></i>
                        <h2>统计信息</h2>
                    </div>
                    <div class="api-content">
                        <div class="endpoint-info">
                            <div class="endpoint">
                                <span class="method get">GET</span>
                                <code>/api/stats</code>
                            </div>
                            <p class="endpoint-description">获取系统统计信息</p>
                        </div>
                    </div>
                </div>

                <div class="docs-card">
                    <div class="card-header">
                        <i class="fas fa-rocket"></i>
                        <h2>快速开始</h2>
                    </div>
                    <div class="api-content">
                        <div class="quick-start">
                            <h3>🚀 快速测试接口</h3>
                            <div class="test-commands">
                                <div class="command-group">
                                    <h4>1. 启动服务</h4>
                                    <div class="code-block">
                                        <pre><code>python app.py</code></pre>
                                    </div>
                                </div>

                                <div class="command-group">
                                    <h4>2. 测试搜索接口</h4>
                                    <div class="code-block">
                                        <pre><code>curl -X POST "http://localhost:5000/api/search" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "title=中国的首都是哪里？&type=single"</code></pre>
                                    </div>
                                </div>

                                <div class="command-group">
                                    <h4>3. 测试健康检查</h4>
                                    <div class="code-block">
                                        <pre><code>curl "http://localhost:5000/api/health"</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="quick-links">
                                <h4>📖 相关链接</h4>
                                <ul>
                                    <li>
                                        <a href="/" target="_blank"
                                            >🏠 访问首页</a
                                        >
                                    </li>
                                    <li>
                                        <a href="/dashboard" target="_blank"
                                            >📊 管理面板</a
                                        >
                                    </li>
                                    <li>
                                        <a
                                            href="https://github.com/Ivelisya/ocsjs-ai-answer-service"
                                            target="_blank"
                                            >📂 GitHub仓库</a
                                        >
                                    </li>
                                    <li>
                                        <a href="README.md" target="_blank"
                                            >📋 项目文档</a
                                        >
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <footer class="footer">
                <div class="footer-links">
                    <a href="/" class="footer-link">
                        <i class="fas fa-home"></i>
                        首页
                    </a>
                    <a href="/dashboard" class="footer-link">
                        <i class="fas fa-tachometer-alt"></i>
                        管理面板
                    </a>
                </div>
                <p class="footer-text">© 2024 EduBrain AI - 智能题库系统</p>
            </footer>
        </div>
    </body>
</html>
